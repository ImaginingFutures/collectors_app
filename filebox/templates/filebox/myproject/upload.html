{% extends 'main.html' %}
{% load django_bootstrap5 django_bootstrap_input_group static %}
{% block content %}
<div class="container">
    <form action="{% url 'upload' %}" method="POST" class="dropzone" id="my-awesome-dropzone" enctype="multipart/form-data">
        {% csrf_token %}
        {% include '_form_errors.html' %}
        <button type="submit" class="btn btn-primary">Submit</button>    
        <div class="mb-3">
            <label for="{{ form.project.id_for_label }}" class="form-label">{{ form.project.label }}</label>
            {{ form.project }}
        </div>
        <div class="mb-3">
            <label for="{{ form.file.id_for_label }}" class="form-label">{{ form.file.label }}</label>
            {{ form.file }}
        </div>
    </form>
</div>

<script>
var mediatypes = 'image/jpg, image/jpeg, image/png, image/tiff, image/gif, image/bmp, image/webp, video/mp4, video/webm, video/ogg, audio/mpeg, audio/mp3, audio/ogg, audio/wav, application/pdf, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, text/plain, text/csv, text/xml';

Dropzone.options.myAwesomeDropzone = {
  paramName: "file",
  autoProcessQueue: true, 
  uploadMultiple: true,
  parallelUploads: 100,
  maxFiles: 200,
  maxFilesize: 500,
  acceptedFiles: mediatypes,
};
</script>
{% endblock content %}
